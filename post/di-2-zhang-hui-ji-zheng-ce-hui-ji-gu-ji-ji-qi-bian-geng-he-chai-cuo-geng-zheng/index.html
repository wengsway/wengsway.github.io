<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>第2章 会计政策、会计估计及其变更和差错更正 | 泉水叮咚</title>
<link rel="shortcut icon" href="https://wengsway.github.io/favicon.ico?v=1599987233184">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://wengsway.github.io/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="第2章 会计政策、会计估计及其变更和差错更正 | 泉水叮咚 - Atom Feed" href="https://wengsway.github.io/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-117938981-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-117938981-1');
</script>


    <meta name="description" content="1 会计政策及其变更的概述
1.1 会计政策的定义
会计政策是指企业在会计确认、计量和报告中所采用的原则、基础和会计处理方法。
1.2 会计政策的特点

会计政策的选择性：某些经济业务在符合会计原则和计量基础的要求下，存在多种可供选择的会计..." />
    <meta name="keywords" content="Finance" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://wengsway.github.io">
  <img class="avatar" src="https://wengsway.github.io/images/avatar.png?v=1599987233184" alt="">
  </a>
  <h1 class="site-title">
    泉水叮咚
  </h1>
  <p class="site-description">
    欢迎来到我的小站呀，很高兴遇见你！🤝
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/wengsway" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
        <a href="https://weibo.com/wengsway " target="_blank">
          <i class="ri-weibo-line"></i>
        </a>
      
    
      
    
      
        <a href="https://www.facebook.com/quan.weng" target="_blank">
          <i class="ri-facebook-line"></i>
        </a>
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              第2章 会计政策、会计估计及其变更和差错更正
            </h2>
            <div class="post-info">
              <span>
                2018-06-30
              </span>
              <span>
                10 min read
              </span>
              
                <a href="https://wengsway.github.io/tag/hgbstBKWi/" class="post-tag">
                  # Finance
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://i.loli.net/2020/09/13/wlbKVC96kfQLApq.jpg" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h1 id="1-会计政策及其变更的概述">1 会计政策及其变更的概述</h1>
<h2 id="11-会计政策的定义">1.1 会计政策的定义</h2>
<p>会计政策是指企业在会计确认、计量和报告中所采用的原则、基础和会计处理方法。</p>
<h2 id="12-会计政策的特点">1.2 会计政策的特点</h2>
<ul>
<li>会计政策的选择性：某些经济业务在符合会计原则和计量基础的要求下，存在多种可供选择的会计政策。</li>
<li>会计政策应当在会计准则规定的范围内选择。</li>
<li>会计政策的层次性：会计政策包括<strong>会计原则、计量基础和会计处理方法</strong>三个层次。</li>
</ul>
<h2 id="13-应当披露的重要会计政策">1.3 应当披露的重要会计政策</h2>
<ul>
<li>发出存货成本的计量</li>
<li>长期股权投资的后续计量</li>
<li>投资性房地产的后续计量</li>
<li>固定资产的初始计量</li>
<li>生物资产的初始计量</li>
<li>无形资产的确认</li>
<li>非货币性资产交换的计量</li>
<li>收入的确认</li>
<li>合同收入与费用的确认</li>
<li>借款费用的处理</li>
<li>合并政策</li>
</ul>
<h2 id="14-会计政策变更">1.4 会计政策变更</h2>
<p>对相同的交易或者事项由原来采用的会计政策改用另一会计政策的行为。</p>
<h3 id="141-可变更会计政策的两种情形">1.4.1 可变更会计政策的两种情形</h3>
<ul>
<li>法律、行政法规或者国家统一的会计制度等要求变更。</li>
<li>会计政策变更能够提供更可靠、更相关的会计信息。</li>
</ul>
<h3 id="142-不属于会计政策变更的两种情况">1.4.2 不属于会计政策变更的两种情况</h3>
<ul>
<li>
<p>本期发生的交易或者事项与以前相比具有本质差别而采用新的会计政策。这种情况下，企业实际上是为新的交易或者事项选择合适的会计政策，并没有改变原有的会计政策。</p>
</li>
<li>
<p>对初次发生的或不重要的交易或者事项采用新的会计政策。</p>
</li>
</ul>
<h1 id="2-会计估计及其变更的概述">2 会计估计及其变更的概述</h1>
<h2 id="21-定义">2.1 定义</h2>
<p>会计估计是指企业对结果不确定的交易或者事项以最近可利用的信息为基础所作的判断。</p>
<h2 id="22-特点">2.2 特点</h2>
<ul>
<li>会计估计的存在是由于经济活动中内在的不确定性因素的影响。</li>
<li>进行会计估计时，往往是以最近可利用的信息或资料为基础。</li>
<li>进行会计估计并不会削弱会计确认和计量的可靠性。</li>
</ul>
<h2 id="23-应当披露的会计估计">2.3 应当披露的会计估计</h2>
<ul>
<li>存货可变现净值的确定</li>
<li>采用公允价值模式下的投资型房地产公允价值的确定</li>
<li>固定资产的预计使用寿命和净残值及其折旧方法</li>
<li>生产性生物资产的预计使用寿命和净残值及其折旧方法</li>
<li>使用寿命有限的无形资产的使用寿命和净残值</li>
<li>确定公允价值减去处置费用后的净额的方法，预计未来现金流量。</li>
<li>合同完工进度的确定</li>
<li>权益工具公允价值的确定</li>
<li>债务重组中转让的非现金资产、有债务转成的股份以及修改其他条件后的债务的公允价值的确定。</li>
<li>预计负债初始计量的最佳估计数的确定</li>
<li>金融资产公允价值的确定</li>
<li>承租人对未确认融资费用的分摊，出租人对未实现融资收益的分配。</li>
<li>探明矿区权益、井及相关设施的折耗方法，与油气开采活动相关的辅助设备及设施的折旧方法。</li>
<li>非同一控制下企业合并成本的公允价值的确定。</li>
<li>其他重要会计估计。</li>
</ul>
<h2 id="24-会计估计变更的情形">2.4 会计估计变更的情形</h2>
<ul>
<li>赖以进行估计的基础发生了变化</li>
<li>取得了新的信息、积累了更多的经验。</li>
</ul>
<h1 id="3-会计政策与会计估计及其变更的划分">3 会计政策与会计估计及其变更的划分</h1>
<h2 id="31-判断依据">3.1 判断依据</h2>
<p><strong>企业应当以变更事项的会计确认、计量基础和列报项目是否发生变更作为判断该变更是会计政策变更还是会计估计变更的划分基础。</strong></p>
<ul>
<li>会计确认是否发生变化，即会计要素是否发生变化。</li>
<li>计量基础是否发生变化，即前后使用了不同的计量基础。</li>
<li>列报项目是否发生变化，即会计科目是否发生变化。</li>
</ul>
<h2 id="32-具体判断方法">3.2 具体判断方法</h2>
<p><strong>分析并判断该事项是否涉及会计确认、计量基础选择或者列报项目的变更，当至少涉及上述一项划分基础变更时，该事项是会计政策变更；不涉及上述划分基础时，该事项可以判断为会计估计变更。</strong></p>
<h1 id="4-会计政策和会计估计变更的会计处理">4 会计政策和会计估计变更的会计处理</h1>
<h2 id="41-会计政策变更的会计处理">4.1 会计政策变更的会计处理</h2>
<p><strong>会计政策变更的两种会计处理方法</strong>：</p>
<ul>
<li>
<p>追溯调整法</p>
</li>
<li>
<p>未来适用法</p>
</li>
</ul>
<h3 id="411-追溯调整法">4.1.1 追溯调整法</h3>
<h4 id="4111-定义">4.1.1.1 定义</h4>
<p>对某项交易或者事项变更会计政策，视同该项交易或事项初次发生时即采用变更后的会计政策，并以此对财务报表相关项目进行调整的方法。</p>
<h4 id="4112-步骤">4.1.1.2 步骤</h4>
<ul>
<li>计算会计政策变更的累积影响数</li>
<li>编制相关项目的调整分录</li>
<li>调整列报前期财务报表相关项目和金额</li>
<li>附注说明</li>
</ul>
<blockquote>
<p>会计政策变更累积影响数是指按照变更后的会计政策对以前各期追溯计算的列报前期最早期初留存收益应有金额和现有金额之间的差额。</p>
</blockquote>
<blockquote>
<p>关于“列报前期最早期初”的解释：假设现在是2018年2月1日（列报期），马上要列报的是2017年的年报年末数（这就是前期）。那么，2016年的年报年末数或者说2017年的年初年报数就是“列报前期最早期初”。</p>
</blockquote>
<blockquote>
<p>企业通常提供资产负债表、利润表、现金流量表和所有者权益变动表这四个表，只有利润表和所有者权益变动表是比较报表。如果在2018年发生了会计政策变更，对于资产负债表和现金流量表只要调整2018年的数据，但对于利润表和所有者权益变动表要调整2017年和2018年的数据。</p>
</blockquote>
<h4 id="4113-累积影响数计算步骤">4.1.1.3 累积影响数计算步骤</h4>
<ul>
<li>
<p>根据新会计政策重新计算受影响的前期交易或者事项</p>
</li>
<li>
<p>计算两种会计政策下的差异</p>
</li>
<li>
<p>计算差异的所得税影响</p>
</li>
<li>
<p>确定前期中的每一期的税后差异</p>
</li>
<li>
<p>计算会计政策变更的累积影响数</p>
</li>
<li>
<p>进行追溯调整后，应当重新计算各列报期间的每股收益。</p>
</li>
</ul>
<h3 id="412-未来适用法">4.1.2 未来适用法</h3>
<h4 id="4121-定义">4.1.2.1 定义</h4>
<p>将变更后的会计政策应用于变更日后及以后发生的交易或者事项，或者在会计估计变更当期和未来期间确认会计估计变更影响数的方法。</p>
<blockquote>
<p>不需要计算会计政策变更产生的累积影响数，也无需重编以前年度的财务报表。</p>
<p>销售成本=期初存货+购入存货实际成本-期末存货</p>
</blockquote>
<h3 id="413-会计政策变更会计处理方法的选择">4.1.3 会计政策变更会计处理方法的选择</h3>
<ul>
<li>
<p>法律法规或会计制度要求变更时：</p>
<ul>
<li>国家发布相关的会计处理方法，则按照发布的会计处理方法进行处理；</li>
<li>国家没有发布相关的会计处理方法，则采用<strong>追溯调整法</strong>进行会计处理。</li>
</ul>
</li>
<li>
<p>会计政策变更能够提供更可靠、更相关的会计信息的情况下，企业应当采用追溯调整法进行会计处理。</p>
</li>
<li>
<p>确定会计政策变更对列报前期影响数不切实可行的，应当从可追溯调整的最早期间期初开始应用变更后的会计政策；在当期期初确定会计政策变更对以前各期累积影响数不切实可行的，应当采用未来适用法处理。</p>
<blockquote>
<p>不切实可行：累积影响数无法确定、还需对管理层在前期的意图作出假设、无法提供前期的凭据。</p>
</blockquote>
</li>
</ul>
<h3 id="414-会计政策变更的披露">4.1.4 会计政策变更的披露</h3>
<ul>
<li>变更的<strong>性质</strong>、内容和原因。</li>
<li>受影响的项目名称和调整金额。</li>
<li>无法追溯调整的，说明该事实和原因以及开始应用变更后的会计政策的时点和具体应用情况。</li>
</ul>
<h3 id="415-注意事项">4.1.5 注意事项</h3>
<p>以后期间的财务报表中，无需重复披露在以前期间的附注中已披露的会计政策变更的信息。</p>
<h2 id="42-会计估计变更的会计处理">4.2 会计估计变更的会计处理</h2>
<ul>
<li>采用未来适用法进行处理。</li>
</ul>
<h3 id="421-处理方法">4.2.1 处理方法</h3>
<ul>
<li>仅影响当期的，其影响数应当在变更当期予以确认。</li>
<li>影响当期和未来期的，其影响数应当在当期和未来期予以确认。</li>
<li>难以划分会计政策变更和会计估计变更时，应将其作为<strong>会计估计变更</strong>处理。</li>
</ul>
<h3 id="422-会计估计变更的披露">4.2.2 会计估计变更的披露</h3>
<ul>
<li>变更的内容和原因。</li>
<li>对当期和未来期的影响数。</li>
<li>影响数不能确定的，要披露这一事实和原因。</li>
</ul>
<h1 id="5-前期差错及其更正">5 前期差错及其更正</h1>
<h2 id="51-定义">5.1 定义</h2>
<p>前期差错是指没有运用或者错误运用下列两种信息，而对前期财务报表造成的省略或者错误。</p>
<ul>
<li>编报前期财务报表时预期能够取得并加以考虑的可靠信息</li>
<li>前期财务报告批准报出时能够取得的可靠信息</li>
</ul>
<p>产生如上两种情形的原因：</p>
<ul>
<li>计算及账户分类错误</li>
<li>采用了不允许的会计政策</li>
<li>对事实的疏忽或者曲解以及舞弊</li>
<li><strong>会计估计变更不属于前期差错更正</strong></li>
</ul>
<h2 id="52-前期差错更正的会计处理">5.2 前期差错更正的会计处理</h2>
<p>企业应当采用追溯重述法更正重要的前期差错，但确定前期差错累积影响数不切实可行的除外。</p>
<blockquote>
<p>追溯重述法是指在发现前期差错时，视同该项前期差错从未发生过，从而对财务报表相关项目进行更正的方法。</p>
</blockquote>
<h3 id="521-不重要的前期差错">5.2.1 不重要的前期差错</h3>
<ul>
<li>影响损益的：直接计入本期和上期相同的净损益项目。</li>
<li>不影响损益的：调整本期和上期相同的项目。</li>
</ul>
<h3 id="522-重要的前期差错">5.2.2 重要的前期差错</h3>
<ul>
<li>影响损益的：调整发现当期的期初留存收益，其他相关项目的期初数也要调整。</li>
<li>不影响损益的：调整发现当期相关项目的期初数。</li>
</ul>
<h3 id="523-注意事项">5.2.3 注意事项</h3>
<p>在以后期间的财务报表中，不需要重复披露在以前期间的附注中已经披露的前期差错更正的信息。</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#1-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E5%8F%8A%E5%85%B6%E5%8F%98%E6%9B%B4%E7%9A%84%E6%A6%82%E8%BF%B0">1 会计政策及其变更的概述</a>
<ul>
<li><a href="#11-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E7%9A%84%E5%AE%9A%E4%B9%89">1.1 会计政策的定义</a></li>
<li><a href="#12-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E7%9A%84%E7%89%B9%E7%82%B9">1.2 会计政策的特点</a></li>
<li><a href="#13-%E5%BA%94%E5%BD%93%E6%8A%AB%E9%9C%B2%E7%9A%84%E9%87%8D%E8%A6%81%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96">1.3 应当披露的重要会计政策</a></li>
<li><a href="#14-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E5%8F%98%E6%9B%B4">1.4 会计政策变更</a>
<ul>
<li><a href="#141-%E5%8F%AF%E5%8F%98%E6%9B%B4%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%83%85%E5%BD%A2">1.4.1 可变更会计政策的两种情形</a></li>
<li><a href="#142-%E4%B8%8D%E5%B1%9E%E4%BA%8E%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E5%8F%98%E6%9B%B4%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%83%85%E5%86%B5">1.4.2 不属于会计政策变更的两种情况</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#2-%E4%BC%9A%E8%AE%A1%E4%BC%B0%E8%AE%A1%E5%8F%8A%E5%85%B6%E5%8F%98%E6%9B%B4%E7%9A%84%E6%A6%82%E8%BF%B0">2 会计估计及其变更的概述</a>
<ul>
<li><a href="#21-%E5%AE%9A%E4%B9%89">2.1 定义</a></li>
<li><a href="#22-%E7%89%B9%E7%82%B9">2.2 特点</a></li>
<li><a href="#23-%E5%BA%94%E5%BD%93%E6%8A%AB%E9%9C%B2%E7%9A%84%E4%BC%9A%E8%AE%A1%E4%BC%B0%E8%AE%A1">2.3 应当披露的会计估计</a></li>
<li><a href="#24-%E4%BC%9A%E8%AE%A1%E4%BC%B0%E8%AE%A1%E5%8F%98%E6%9B%B4%E7%9A%84%E6%83%85%E5%BD%A2">2.4 会计估计变更的情形</a></li>
</ul>
</li>
<li><a href="#3-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E4%B8%8E%E4%BC%9A%E8%AE%A1%E4%BC%B0%E8%AE%A1%E5%8F%8A%E5%85%B6%E5%8F%98%E6%9B%B4%E7%9A%84%E5%88%92%E5%88%86">3 会计政策与会计估计及其变更的划分</a>
<ul>
<li><a href="#31-%E5%88%A4%E6%96%AD%E4%BE%9D%E6%8D%AE">3.1 判断依据</a></li>
<li><a href="#32-%E5%85%B7%E4%BD%93%E5%88%A4%E6%96%AD%E6%96%B9%E6%B3%95">3.2 具体判断方法</a></li>
</ul>
</li>
<li><a href="#4-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E5%92%8C%E4%BC%9A%E8%AE%A1%E4%BC%B0%E8%AE%A1%E5%8F%98%E6%9B%B4%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%A4%84%E7%90%86">4 会计政策和会计估计变更的会计处理</a>
<ul>
<li><a href="#41-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E5%8F%98%E6%9B%B4%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%A4%84%E7%90%86">4.1 会计政策变更的会计处理</a>
<ul>
<li><a href="#411-%E8%BF%BD%E6%BA%AF%E8%B0%83%E6%95%B4%E6%B3%95">4.1.1 追溯调整法</a>
<ul>
<li><a href="#4111-%E5%AE%9A%E4%B9%89">4.1.1.1 定义</a></li>
<li><a href="#4112-%E6%AD%A5%E9%AA%A4">4.1.1.2 步骤</a></li>
<li><a href="#4113-%E7%B4%AF%E7%A7%AF%E5%BD%B1%E5%93%8D%E6%95%B0%E8%AE%A1%E7%AE%97%E6%AD%A5%E9%AA%A4">4.1.1.3 累积影响数计算步骤</a></li>
</ul>
</li>
<li><a href="#412-%E6%9C%AA%E6%9D%A5%E9%80%82%E7%94%A8%E6%B3%95">4.1.2 未来适用法</a>
<ul>
<li><a href="#4121-%E5%AE%9A%E4%B9%89">4.1.2.1 定义</a></li>
</ul>
</li>
<li><a href="#413-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E5%8F%98%E6%9B%B4%E4%BC%9A%E8%AE%A1%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95%E7%9A%84%E9%80%89%E6%8B%A9">4.1.3 会计政策变更会计处理方法的选择</a></li>
<li><a href="#414-%E4%BC%9A%E8%AE%A1%E6%94%BF%E7%AD%96%E5%8F%98%E6%9B%B4%E7%9A%84%E6%8A%AB%E9%9C%B2">4.1.4 会计政策变更的披露</a></li>
<li><a href="#415-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">4.1.5 注意事项</a></li>
</ul>
</li>
<li><a href="#42-%E4%BC%9A%E8%AE%A1%E4%BC%B0%E8%AE%A1%E5%8F%98%E6%9B%B4%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%A4%84%E7%90%86">4.2 会计估计变更的会计处理</a>
<ul>
<li><a href="#421-%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95">4.2.1 处理方法</a></li>
<li><a href="#422-%E4%BC%9A%E8%AE%A1%E4%BC%B0%E8%AE%A1%E5%8F%98%E6%9B%B4%E7%9A%84%E6%8A%AB%E9%9C%B2">4.2.2 会计估计变更的披露</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#5-%E5%89%8D%E6%9C%9F%E5%B7%AE%E9%94%99%E5%8F%8A%E5%85%B6%E6%9B%B4%E6%AD%A3">5 前期差错及其更正</a>
<ul>
<li><a href="#51-%E5%AE%9A%E4%B9%89">5.1 定义</a></li>
<li><a href="#52-%E5%89%8D%E6%9C%9F%E5%B7%AE%E9%94%99%E6%9B%B4%E6%AD%A3%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%A4%84%E7%90%86">5.2 前期差错更正的会计处理</a>
<ul>
<li><a href="#521-%E4%B8%8D%E9%87%8D%E8%A6%81%E7%9A%84%E5%89%8D%E6%9C%9F%E5%B7%AE%E9%94%99">5.2.1 不重要的前期差错</a></li>
<li><a href="#522-%E9%87%8D%E8%A6%81%E7%9A%84%E5%89%8D%E6%9C%9F%E5%B7%AE%E9%94%99">5.2.2 重要的前期差错</a></li>
<li><a href="#523-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9">5.2.3 注意事项</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://wengsway.github.io/post/di-1-zhang-zong-lun/">
              <h3 class="post-title">
                第1章 总论学习笔记
              </h3>
            </a>
          </div>
        

        
          

          
            <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'wengsway',
  apikey: 'OH3ecd0RzHxNVCLmLoqmcHRDb9Gy40HK10DGjWFAWr6A4i2hx25TsT9O7o5rhOdf',
}
if ('https://disqus.com/api/oauth/2.0/4ab6467b95e54fd387aa938dfe99772c/') {
  options.api = 'https://disqus.com/api/oauth/2.0/4ab6467b95e54fd387aa938dfe99772c/'
}
var dsqjs = new DisqusJS(options)

</script>

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://wengsway.github.io/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
